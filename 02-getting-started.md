# ๅๅคๅทฅไฝ

- ๆฐๆฎๅบ่ฎพ่ฎก
- ๅบ็ก็ปๆๆญๅปบ

## ๆฐๆฎๅบ่ฎพ่ฎก

> ๆนๆฎๆไปฌ็ไธๅก้่ฆ่ฎพ่ฎกๆฐๆฎๅบ็็ปๆ๏ผ่ฟไธช่ฟ็จๆฏๆฏไธช้กน็ฎๅผๅงๆถๆๅฟ้กป็๏ผไธ่ฌ็ฑไธ้จ็ DBA ่ง่ฒๅฎๆ๏ผๅพๅคๆฒกๆๅๅ็้ๅธธๅทไฝ็ๅฌๅธ็ฑๅ็ซฏๅผๅไบบๅๅผไปป๏ผใ

![ๆฐๆฎๅบ็ปๆ](media/database.png)

### ้้กน่กจ๏ผoptions๏ผ

็จไบ่ฎฐๅฝ็ฝ็ซ็ไธไบ้็ฝฎๅฑๆงไฟกๆฏ๏ผๅฆ๏ผ็ซ็นๆ้ข๏ผ็ซ็นๆ่ฟฐ็ญ

| ๅญๆฎต    | ๆ่ฟฐ    | ๅคๆณจ         |
| ----- | ----- | ---------- |
| id    | ๐ ไธป้ฎ | &nbsp;     |
| key   | ๅฑๆง้ฎ   | snake_case |
| value | ๅฑๆงๅผ   | JSON ๆผๅผ    |

### ็จๆท่กจ๏ผusers๏ผ

็จไบ่ฎฐๅฝ็จๆทไฟกๆฏ

| ๅญๆฎต       | ๆ่ฟฐ     | ๅคๆณจ                                       |
| -------- | ------ | ---------------------------------------- |
| id       | ๐ ไธป้ฎ  | &nbsp;                                   |
| slug     | URL ๅซๅ | &nbsp;                                   |
| email    | ้ฎ็ฎฑ     | ไบฆๅ็ปๅฝๅ                                    |
| password | ๅฏ็     | &nbsp;                                   |
| nickname | ๆต็งฐ     | &nbsp;                                   |
| avatar   | ๅคดๅ     | ๅพ็ URL ่ทฏๅพ                                |
| bio      | ็ฎไป     | &nbsp๏ผ                                   |
| status   | ็ถๆ     | ๆชๆฟๆดป๏ผunactivated๏ผ/ ๆฟๆดป๏ผactivated๏ผ/ ็ฆๆญข๏ผforbidden๏ผ/ ๅๆถ็ซ๏ผtrashed๏ผ |

### ๆ็ซ่กจ๏ผposts๏ผ

็จไบ่ฎฐๅฝๆ็ซไฟกๆฏ

| ๅญๆฎต          | ๆ่ฟฐ       | ๅคๆณจ                                       |
| ----------- | -------- | ---------------------------------------- |
| id          | ๐ ไธป้ฎ    | &nbsp;                                   |
| slug        | URL ๅซๅ   | &nbsp;                                   |
| title       | ๆ้ข       | &nbsp;                                   |
| feature     | ็น่ฒๅพๅ     | ๅพ็ URL ่ทฏๅพ                                |
| created     | ๅๅปบๆถ้ด     | &nbsp;                                   |
| content     | ๅๅฎน       | &nbsp;                                   |
| views       | ๆต่งๆฌกๆฐ     | &nbsp;                                   |
| likes       | ็น่ตๆฐ      | &nbsp;                                   |
| status      | ็ถๆ       | ่็จฟ๏ผdrafted๏ผ/ ๅทฒๅๅธ๏ผpublished๏ผ/ ๅๆถ็ซ๏ผtrashed๏ผ |
| user_id     | ๐ ็จๆท ID | ๅฝๅๆ็ซ็ไฝ่ ID                               |
| category_id | ๐ ๅ็ฑป ID | ๅฝๅๆ็ซ็ๅ็ฑป ID                               |

> ๆ้ฎ๏ผไธบไปไน่ฆ็จๅณ่ ID๏ผ

<!-- ็ญ๏ผๆฐๆฎๅๆญฅ๏ผไพฟไบ็ปดๆค -->

### ๅ็ฑป่กจ๏ผcategories๏ผ

็จไบ่ฎฐๅฝๆ็ซๅ็ฑปไฟกๆฏ

| ๅญๆฎต        | ๆ่ฟฐ     | ๅคๆณจ     |
| --------- | ------ | ------ |
| id        | ๐ ไธป้ฎ  | &nbsp; |
| slug      | URL ๅซๅ | &nbsp; |
| name      | ๅ็ฑปๅ็งฐ   | &nbsp; |
| classname | ๅพๆ็ฑปๅ   |        |

### ่ฏ่ฎบ่กจ๏ผcomments๏ผ

็จไบ่ฎฐๅฝๆ็ซ่ฏ่ฎบไฟกๆฏ

| ๅญๆฎต        | ๆ่ฟฐ       | ๅคๆณจ                                       |
| --------- | -------- | ---------------------------------------- |
| id        | ๐ ไธป้ฎ    | &nbsp;                                   |
| author    | ไฝ่       | &nbsp;                                   |
| email     | ้ฎ็ฎฑ       | &nbsp;                                   |
| created   | ๅๅปบๆถ้ด     | &nbsp;                                   |
| content   | ๅๅฎน       | &nbsp;                                   |
| status    | ็ถๆ       | ๅพๅฎกๆธ๏ผheld๏ผ/ ๅ่ฎธ๏ผapproved๏ผ/ ๆ็ป๏ผrejected๏ผ/ ๅๆถ็ซ๏ผtrashed๏ผ |
| post_id   | ๐ ๆ็ซ ID | &nbsp;                                   |
| parent_id | ๐ ็ถ็บง ID | &nbsp;                                   |

> **็ๆ่กจๆผๅๆทปๅๆฐๆฎ็sqlๆไปถๆพๅจๅ็ฎๅฝ็sqlๆไปถๅคนไธ้ข**

---

## ๆญๅปบ้กน็ฎๆถๆ

้กน็ฎๆๅบๆฌ็ๅไธบไธคไธชๅคงๅ๏ผๅๅฐ๏ผๅฏนๅคงไผๅผๆพ๏ผๅๅๅฐ๏ผไปๅฏน็ฎก็ๅๅผๆพ๏ผใ

ไธ่ฌๅจๅฎ้้กน็ฎไธญ๏ผๆ็ไบบไผๆๅๅฐๅๅๅฐๅไธบไธคไธช้กน็ฎๅปๅ๏ผ้จ็ฝฒๆถไนไผๅๅผ้จ็ฝฒ๏ผ

- **ๅๅฐ่ฎฟ้ฎๅฐๅ**๏ผ`https://www.baixiu11.net/`
- **ๅๅฐ่ฎฟ้ฎๅฐๅ**๏ผ`https://admin.baixiu11.net/`

่ฟๆทๅ็ธไบ็ฌ็ซไธๅฎนๆไนฑ๏ผไนๆดๅๅฎๅจใไฝๆฏๆ็น้บป็ฆ๏ผๆไปฅๆไปฌ้็จๆดไธบๅธธ่ง็ๆนๆก๏ผ่ฎฉๅๅฐไฝไธบไธไธชๅญ็ฎๅฝๅบ็ฐใ่ฟๆท็่ฏ๏ผๅคงไฝ็ปๆๅฐฑๆฏ๏ผ

- **ๅๅฐ่ฎฟ้ฎๅฐๅ**๏ผ`https://www.baixiu11.net/`
- **ๅๅฐ่ฎฟ้ฎๅฐๅ**๏ผ`https://www.baixiu11.net/admin/`

### ๅบๆฌ็็ฎๅฝ็ปๆ

```
โโโ baixiu ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ้กน็ฎๆไปถๅคน๏ผ็ฝ็ซๆน็ฎๅฝ๏ผ
 ยย โโโ admin ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ๅๅฐๆไปถๅคน
 ยย โยย โโโ index.php ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ๅๅฐ่ๆฌๆไปถ
 ยย โโโ static ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ้ๆๆไปถๅคน
 ยย โยย โโโ assets ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ่ตๆบๆไปถๅคน
 ยย โยย โโโ uploads ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ไธไผๆไปถๅคน
    โโโ index.php ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ๅๅฐ่ๆฌๆไปถ
```

#### ๅบๆฌๅๅ๏ผ

- ๅๆ็กฎไธๅฑๆๅคๅฐไธช้กต้ข
- ไธไธช้กต้ขๅฐฑๅฏนๅบไธไธช php ๆไปถๅปๅค็

### ๆดๅ้ๆ่ตๆบๆไปถ

#### ้ๆๆไปถ vs. ๅจๆๆไปถ

- ้ๆๆไปถๆ็ๅฐฑๆฏๆๅกๅจไธไผ็ป่ฟไปปไฝๅค็ๅฐฑ่ฟๅ็ปๅฎขๆท็ซฏๆต่งๅจ็ๆไปถ๏ผๆฏๅฆ๏ผๅพ็ใๆทๅผ่กจใๅญไฝๆไปถ็ญ
- ๅจๆๆไปถๆ็ๅฐฑๆฏๆๅกๅจไผๅฏน่ฏทๆฑ็ๆไปถ่ฟ่กๅค็๏ผๅนถๅฐๅค็ๅ็็ปๆ่ฟๅ็ปๅฎขๆท็ซฏๆต่งๅจ็ๆไปถ๏ผๆฏๅฆ๏ผPHP ๆไปถใASP ๆไปถใJSP ๆไปถ

#### ๅทไฝๆไฝ

็ฑไบ Apache / Nginx ่ฟไธ็ฑป Web Server ๆฌ่บซๅฏไปฅๅค็้ๆๆไปถ่ฏทๆฑ๏ผๆไปฅไธ้่ฆ PHP ๅค็้ๆๆไปถ่ฏทๆฑใๅช้่ฆๅฐ้ๆ่ตๆบๆพๅฐ็ฝ็ซ็ฎๅฝไธญ๏ผๅณๅฏ่ฎฟ้ฎ

```
โโโ baixiu ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ้กน็ฎๆไปถๅคน๏ผ็ฝ็ซๆน็ฎๅฝ๏ผ
   โโโstatic ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ้ๆ่ตๆบๆไปถๅคน
   โ  โโโ assets ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ่ตๆบๆไปถๅคน 
   โยยโ	 โโโ css ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ๆทๅผๆไปถๅคน
   โยยโ	 โโโ img ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ๅพ็ๆไปถๅคน
   โ ยโ	 โโโ js ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ่ๆฌๆไปถๅคน
 ยยโยยโ	 โโโ venders ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ็ฌฌไธๆน่ตๆบ
 ยยโ  โโ uploads ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท ไธไผๆไปถๅคน
 ย โยย   โโโ 2017 ยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยทยท 2018 ๅนดไธไผๆไปถ็ฎๅฝ
   โโโ ......
```

##### ๆณจๆ๏ผ

- `admin` ๅๅฐ้กน็ฎๆไปถ็ฎก็ใ
- `assets` ็ฎๅฝไธญๆพ็ฝฎ็ฝ้กตไธญๆ้็่ตๆบๆไปถใ
- `uploads` ็ฎๅฝไธญๆพ็ฝฎ็ฝ็ซ่ฟ่ฅ่ฟ็จไธญไธไผ็ๆไปถ๏ผๅฆๆๆๅฟๆไปถ่ฟๅค๏ผๅฏไปฅๆๅนดๅฝๆกฃ๏ผไธๅนดไธไธชๆไปถๅคน๏ผใ
- ๅ็ปๅคงๅฎถ็้ๆๆไปถ็ฎๅฝๆฏ้่ฆไฟฎๆน็๏ผ่ฏทๆ็ง็บฆๅฎ็็ฎๅฝ่ฟ่กไฟฎๆน




### ไฟฎๆน่ฟ้ๆๆไปถ็ปๆไนๅ๏ผ่ฆๆ่ตๆบ็่ทฏๅพ้ฝไฟฎๆนๆญฃ็กฎ

 1.  ๆๆๆ็cssๆไปถ่ทฏๅพไฟฎๆน

     ๅๆ็cssๆไปถ่ทฏๅพไธบ

     ```html
     <link rel="stylesheets" href="asstes/css/xxx.css"></link>
     ```

     ้่ฆๅจ้จไฟฎๆนไธบ

     ```html
     <link rel="stylesheets" href="static/asstes/css/xxx.css"></link>
     ```

     2. ๅ็ๆๆๆฌฒๆพๅจassetsไนไธ็ๆๆ็ๅพ็็่ทฏๅพไนไฟฎๆนไธบstatic็ๅญ็ฎๅฝ

    ๅไธบ
    
    โ```html
    <img src="uploads/xxx.jpg"/>
    โ```
    
    ้่ฆๅจ้ฝไฟฎๆนไธบ
    
    โ```html
    <img src="static/uploads/xxx.jpg"/>
    โ```
    
    โ

###ๅฐๆๆ็html้กต้ขไฟฎๆนไธบphp้กต้ข

โ	ๆไปฌๅจ้กน็ฎไธญ้่ฆไฝฟ็จ็ๆฏphpๆไปถๅฏนๆฐๆฎ่ฟ่ก่ฏปๅๅๅฑ็คบ๏ผๆไปฅ้่ฆๆๆๆ็htmlๆไปถ้ฝไฟฎๆนไธบphpๆไปถใๅฆๆๅฏนcmdๅฝไปคไธๅคช็ๆ๏ผๅฏไปฅ่ชๅทฑๆๅจไธไธช้กต้ขไธไธช้กต้ข็่ฟ่กไฟฎๆนๅ็ผๅใ

โ	ไฝๆฏ่ฟๆทๅๆฏๆฏ่พ้บป็ฆ็ใๆไปฅๅฏไปฅ็ปๅคงๅฎถไป็ปๅฆไฝไฝฟ็จcmdๅฝไปค้ๅฝๅๆไปถ

 1.  ้ฆๅ้่ฆ่ฟๅฅไฝๅ้กน็ฎ็็ฎๅฝๆๅจ็็็ฌฆ

     ไฝฟ็จ`win+R` ๆๅผๅฟซ้่ฟ่ก๏ผๅจ่พๅฅๆกไธญ่พๅฅ `cmd` ๆๅผๅฝไปค็ชๅฃ

     ไฝฟ็จ`็็ฌฆ:` ่ฟๅฅ้กน็ฎๆๅจ็็ฌฆ๏ผไพๅฆ๏ผ `F:` ๆฏ่ฟๅฅF็๏ผ็ถๅไฝฟ็จcdๅฝไปค่พๅฅ็ฎๅฝ่ฟๅฅๅฐ้กน็ฎๆไปถๆๅจ็็ฎๅฝ๏ผไพๅฆ๏ผ`cd F:\project\baixiu` ๅฐฑๆฏ่ฟๅฅF็ไธ้ข็project็ฎๅฝไธ็baixiuๆไปถๅคน

     2. ไฝฟ็จๅฝไปค`ren *.html *.php` ๆๆๆ็htmlๅ็ผๅๅจ้ฝไฟฎๆนๆphpๅ็ผ

     3. ่ฎฐๅพๆๆๆ้กต้ขไธญ็aๆ็ญพๆๆๅ็htmlๆไปถ็่ทฏๅพไนๆนๆphp็ๅ็ผ

### ๆฝ็ฆปๅฌๅฑๆจกๅ

้่ฟ่งๅฏ้กต้ข็ๅธๅฑ๏ผๆไปฌๅ็ฐ๏ผ้กต้ข็ไธค่พนๅจไปปไฝไธไธช้กต้ข้ฝๆฏไธๆท็๏ผๆไปฅๆไปฌๅฏไปฅๆ่ฟ้จๅไปฃ็ๆฝ็ฆปๅบๆฅๅฝขๆๅฌๅฑ้จๅ๏ผๆนไพฟๆไปฌๅฏนๅถ่ฟ่ก็ฎก็ใ

ไบๆฏๆไปฌๅจ `baixiu` ็ฎๅฝไธญๅๅปบไธไธช `public`ๅญ็ฎๅฝ๏ผๅจ่ฟไธช็ฎๅฝ้ๅๅปบไธไธช `_aside.php` ๆไปถ๏ผ็จไบๆฝ่ฑกๅฌๅฑ็ๅณ่พนๅบๅ `<div class="aside"> ... </div>`๏ผ็ถๅๅจๆฏไธไธช้่ฆ่ฟไธชๆจกๅ็้กต้ขไธญ้่ฟ `include` ่ฝฝๅฅ๏ผ

```php
...
<?php include 'public/_aside.php' ;?>
...
```
ไนๅๅไธๅจpublic็ฎๅฝไธๅปบ็ซไธไธช`_header.php` ๆไปถ๏ผๆๅทฆ่พน  `<div class="header"> ... </div>`  ้จๅไนๆฝ็ฆปๆไธบไธไธชๅฌๅฑๆจกๅ๏ผไน้็จๅๆท็ๆนๅผ่ฝฝๅฅ
```php
...
<? php include 'public/_header.php' ; ?>
...
```

>
> ๆ้ฎ๏ผไธบไปไนไฝฟ็จ `include` ่ไธๆฏ `require`๏ผ

<!-- ็ญ๏ผไพง่พนๆไธไผๅฝฑๅๅถไปๆจกๅ๏ผๆฒกๆไพง่พนๆๅถไฝไปฃ็ๅบ่ฏฅไนๅฏไปฅ็ปง็ปญๆง่ก -->

### ้กน็ฎ้็ฝฎๆไปถ

็ฑไบๅจๆฅไธๆฅ็ๅผๅ่ฟ็จไธญ๏ผ่ฏๅฎๆไธ้จๅๅฌๅฑ็ๆๅ๏ผไพๅฆๆฐๆฎๅบๅ็งฐ๏ผๆฐๆฎๅบไธปๆบ๏ผๆฐๆฎๅบ็จๆทๅๅฏ็็ญ๏ผ่ฟไบๆฐๆฎๅบ่ฏฅๆพๅฐๅฌๅฑ็ๅฐๆน๏ผๆฝ่ฑกๆไธไธช้็ฝฎๆไปถ `config.php` ๆพๅฐ้กน็ฎๆน็ฎๅฝไธใ

่ฟไธช้็ฝฎๆไปถ้็จๅฎไนๅธธ้็ๆนๅผๅฎไน้็ฝฎๆๅ๏ผ

```php
/**
 * ๆฐๆฎๅบไธปๆบ
 */
define('DB_HOST', '127.0.0.1');

/**
 * ๆฐๆฎๅบ็จๆทๅ
 */
define('DB_USER', 'root');

/**
 * ๆฐๆฎๅบๅฏ็
 */
define('DB_PASS', '123');

/**
 * ๆฐๆฎๅบๅ็งฐ
 */
define('DB_NAME', 'db_baixiu');
```

> ๆณจๆ๏ผ่ฟ็งๅชๆๆๅก็ซฏไปฃ็็ PHP ๆไปถๅฏไปฅๅป้ค็ปๅฐพๅค็ `?>`๏ผ้ฒๆญข่พๅบๅๅฎน

ๅจ้่ฆ็ๆถๅๅฏไปฅ้่ฟ `require_once` ่ฝฝๅฅ๏ผ

```php
// ่ฝฝๅฅ้็ฝฎๆไปถ
require_once 'config.php';

...

// ็จๅฐ็ๆถๅ
echo DB_NAME;
```

#### ่ฝฝๅฅ่ๆฌ็ๅ็งๆนๅผๅฏนๆฏ

> - `require`
> - `require_once`
> - `include`
> - `include_once`

- ๅฑๅ็น๏ผ
  + ้ฝๅฏไปฅๅจๅฝๅ PHP ่ๆฌๆไปถๆง่กๆถ่ฝฝๅฅๅฆๅคไธไธช PHP ่ๆฌๆไปถใ
- `require` ๅ `include` ไธๅ็น๏ผ
  + ๅฝ่ฝฝๅฅ็่ๆฌๆไปถไธๅญๅจๆถ๏ผ`require` ไผๆฅไธไธช่ดๅฝ้่ฏฏ๏ผ็ปๆ็จๅบๆง่ก๏ผ๏ผ่ `include` ไธไผ
- ๆ `once` ๅ็ผ็็น็น๏ผ
  + ๅคๆญๅฝๅ่ฝฝๅฅ็่ๆฌๆไปถๆฏๅฆๅทฒ็ป่ฝฝๅฅ่ฟ๏ผๅฆๆ่ฝฝๅฅไบๅฐฑไธๅๆง่ก

> ๆ้ฎ๏ผ็ฑไปฅไธๅ็งๆนๅผ็ๅฏนๆฏๅฏไปฅๅพๅบ๏ผๅจ่ฝฝๅฅ `config.php` ๆถไฝฟ็จๅช็งๆนๅผๆดๅ้๏ผ

<!-- ็ญ๏ผrequire_once๏ผๅๅๆไบ๏ผ1. ่ฝฝๅฅๅคฑ่ดฅๆๆณ็ปง็ปญๆง่ก๏ผ2. ไธ่ฝ้ๅค่ฝฝๅฅ -->
